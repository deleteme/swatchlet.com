var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function l(t){let e;return a(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(a(e,n))}function d(t,e,n){if(t){const o=f(t,e,n);return t[0](o)}}function f(t,e,o){return t[1]?n({},n(e.$$scope.ctx,t[1](o?o(e):{}))):e.$$scope.ctx}function p(t,e,o,r){return t[1]?n({},n(e.$$scope.changed||{},t[1](r?r(o):{}))):e.$$scope.changed||{}}function h(t){return null==t?"":t}function $(t,e,n=e){return t.set(n),e}const g="undefined"!=typeof window;let m=g?()=>window.performance.now():()=>Date.now(),v=g?t=>requestAnimationFrame(t):t;const w=new Set;let y,b=!1;function k(){w.forEach(t=>{t[0](m())||(w.delete(t),t[1]())}),(b=w.size>0)&&v(k)}function x(t){let e;return b||(b=!0,v(k)),{promise:new Promise(n=>{w.add(e=[t,n])}),abort(){w.delete(e)}}}function _(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode.removeChild(t)}function M(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function E(){return R(" ")}function O(){return R("")}function D(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function H(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function B(t,e){e=""+e,t.data!==e&&(t.data=e)}function W(t,e){(null!=e||t.value)&&(t.value=e)}function z(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function T(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let o;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{(o=n.contentDocument.defaultView).addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{o&&o.removeEventListener&&o.removeEventListener("resize",e),t.removeChild(n)}}}function L(t,e,n){t.classList[n?"add":"remove"](e)}class j{constructor(t,e=null){this.e=M("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)C(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(S)}}let A,U=0,I={};function P(t,e,n,o,r,s,i,c=0){const a=16.666/o;let l="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);l+=100*t+`%{${i(o,1-o)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`;if(!I[d]){if(!y){const t=M("style");document.head.appendChild(t),y=t.sheet}I[d]=!0,y.insertRule(`@keyframes ${d} ${u}`,y.cssRules.length)}const f=t.style.animation||"";return t.style.animation=`${f?`${f}, `:""}${d} ${o}ms linear ${r}ms 1 both`,U+=1,d}function G(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--U&&v(()=>{if(U)return;let t=y.cssRules.length;for(;t--;)y.deleteRule(t);I={}})}function N(t){A=t}function F(){if(!A)throw new Error("Function called outside component initialization");return A}function K(t){F().$$.on_mount.push(t)}function q(t){F().$$.on_destroy.push(t)}function X(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const Y=[],J=[],V=[],Q=[],Z=Promise.resolve();let tt,et=!1;function nt(t){V.push(t)}function ot(){const t=new Set;do{for(;Y.length;){const t=Y.shift();N(t),rt(t.$$)}for(;J.length;)J.pop()();for(let e=0;e<V.length;e+=1){const n=V[e];t.has(n)||(n(),t.add(n))}V.length=0}while(Y.length);for(;Q.length;)Q.pop()();et=!1}function rt(t){null!==t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment&&t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(nt))}function st(){return tt||(tt=Promise.resolve()).then(()=>{tt=null}),tt}function it(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const ct=new Set;let at;function lt(){at={r:0,c:[],p:at}}function ut(){at.r||s(at.c),at=at.p}function dt(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function ft(t,e,n,o){if(t&&t.o){if(ct.has(t))return;ct.add(t),at.c.push(()=>{ct.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const pt={duration:0};function ht(n,o,r){let s,c,a=o(n,r),l=!1,u=0;function d(){s&&G(n,s)}function f(){const{delay:o=0,duration:r=300,easing:i=e,tick:f=t,css:p}=a||pt;p&&(s=P(n,0,1,r,o,i,p,u++)),f(0,1);const h=m()+o,$=h+r;c&&c.abort(),l=!0,nt(()=>it(n,!0,"start")),c=x(t=>{if(l){if(t>=$)return f(1,0),it(n,!0,"end"),d(),l=!1;if(t>=h){const e=i((t-h)/r);f(e,1-e)}}return l})}let p=!1;return{start(){p||(G(n),i(a)?(a=a(),st().then(f)):f())},invalidate(){p=!1},end(){l&&(d(),l=!1)}}}function $t(n,o,r){let c,a=o(n,r),l=!0;const u=at;function d(){const{delay:o=0,duration:r=300,easing:i=e,tick:d=t,css:f}=a||pt;f&&(c=P(n,1,0,r,o,i,f));const p=m()+o,h=p+r;nt(()=>it(n,!1,"start")),x(t=>{if(l){if(t>=h)return d(0,1),it(n,!1,"end"),--u.r||s(u.c),!1;if(t>=p){const e=i((t-p)/r);d(1-e,e)}}return l})}return u.r+=1,i(a)?st().then(()=>{a=a(),d()}):d(),{end(t){t&&a.tick&&a.tick(1,0),l&&(c&&G(n,c),l=!1)}}}function gt(t){t&&t.c()}function mt(t,e,n){const{fragment:r,on_mount:c,on_destroy:a,after_update:l}=t.$$;r&&r.m(e,n),nt(()=>{const e=c.map(o).filter(i);a?a.push(...e):s(e),t.$$.on_mount=[]}),l.forEach(nt)}function vt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx={})}function wt(t,e){t.$$.dirty||(Y.push(t),et||(et=!0,Z.then(ot)),t.$$.dirty=r()),t.$$.dirty[e]=!0}function yt(e,n,o,i,c,a){const l=A;N(e);const u=n.props||{},d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:r(),dirty:null};let f=!1;d.ctx=o?o(e,u,(t,n,o=n)=>(d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),f&&wt(e,t)),n)):u,d.update(),f=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):d.fragment&&d.fragment.c(),n.intro&&dt(e.$$.fragment),mt(e,n.target,n.anchor),ot()),N(l)}class bt{$destroy(){vt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const kt=[];function xt(e,n=t){let o;const r=[];function s(t){if(c(e,t)&&(e=t,o)){const t=!kt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),kt.push(n,e)}if(t){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,c=t){const a=[i,c];return r.push(a),1===r.length&&(o=n(s)||t),i(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function _t(e,n,o){const r=!Array.isArray(e),c=r?[e]:e,a=n.length<2;return{subscribe:xt(o,e=>{let o=!1;const l=[];let u=0,d=t;const f=()=>{if(u)return;d();const o=n(r?l[0]:l,e);a?e(o):d=i(o)?o:t},p=c.map((t,e)=>t.subscribe(t=>{l[e]=t,u&=~(1<<e),o&&f()},()=>{u|=1<<e}));return o=!0,f(),function(){s(p),d()}}).subscribe}}const Ct=(t,e)=>t===e,St=(t,e)=>Object.entries(t).every(([t,n])=>{const o=e[t];return Ct(n,o)}),Mt=(t,e)=>!!Ct(t,e)||!!((t,e)=>Array.isArray(t)===Array.isArray(e)&&typeof t==typeof e)(t,e)&&("object"==typeof t?St(t,e)&&St(e,t):Ct(t,e)),Rt=(t,e)=>t.length===e.length&&t.every((t,n)=>Mt(t,e[n])),Et={calls:new WeakMap,hits:new WeakMap},Ot=(t,e)=>{const n=t.get(e)||0;t.set(e,n+1)};function Dt(t,e){Et.calls.set(t,0),Et.hits.set(t,0);let n,o=[];return function(){Ot(Et.calls,t);const r=[...arguments];if(Rt(o,r))return Ot(Et.hits,t),n;{e&&console.log(t,"miss!\n  previousArgs",o,"\n  !== args",r);const s=t(...r);return o=r,n=s,s}}}const Ht=/#(.+)$/,Bt=t=>{const e=t.match(/p(\d)+$/);if(!e)return null;const[n,o]=e;return o.length>0?Number(o):null},Wt=Dt((function(t){const e=t.match(Ht);if(!e)return;const[n,o]=e;if(!o||0===o.length)return;const r=o.split(",").filter((function(t){return!t.startsWith("p")}));return{swatches:zt(r),picking:Bt(o)}})),zt=Dt((function(t){return t.map(t=>({value:`#${t}`}))}));function Tt(t){const{picking:e,swatches:n}=t,o=n.map(({value:t})=>t.replace("#",""));return null!==e&&o.push(`p${e}`),o.join(",")}function Lt(t){return`#${Tt(t)}`}const jt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,At=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i;function Ut(t){let e=At.exec(t);return(e=e?e.map(t=>t.repeat(2)):jt.exec(t))?{R:parseInt(e[1],16),G:parseInt(e[2],16),B:parseInt(e[3],16)}:null}const It=Wt(location.href)||{},Pt={swatches:[{value:"#ffffff"},{value:"#ff00cc"}],picking:null},Gt=xt(It.swatches||Pt.swatches),Nt=xt(Pt.picking),Ft=t=>{Nt.set(t)},Kt=()=>{Nt.set(Pt.picking)},qt=_t([Nt,Gt],([t,e])=>e[t]||null),Xt=_t(qt,t=>{var e;if(t)return t.value.startsWith("#")?e=Ut(t.value):t.value.startsWith("rgb")?e=function(t){const[e,n,o]=t.replace(/[a-z\(\)]/g,"").split(",").map(Number);return{R:e,G:n,B:o}}(t.value):console.warning("unexpected value for swatch",t),e}),Yt=xt({});Yt.subscribe(t=>{console.log("swatchesDimensions",t)});const Jt=_t(Yt,t=>Object.values(t).filter(t=>null!==t).length>0),Vt=window.matchMedia("(min-width: 0) and (max-width: 812px)"),Qt=xt(Vt.matches);function Zt(t){let e,n,o,r;const s=t.$$slots.default,i=d(s,t,null);return{c(){e=M("a"),i&&i.c(),H(e,"href",t.href),H(e,"class",n=h(t.klass)+" svelte-176v7yp"),r=D(e,"click",t.click_handler)},m(t,n){C(t,e,n),i&&i.m(e,null),o=!0},p(t,r){i&&i.p&&t.$$scope&&i.p(p(s,r,t,null),f(s,r,null)),o&&!t.href||H(e,"href",r.href),(!o||t.klass&&n!==(n=h(r.klass)+" svelte-176v7yp"))&&H(e,"class",n)},i(t){o||(dt(i,t),o=!0)},o(t){ft(i,t),o=!1},d(t){t&&S(e),i&&i.d(t),r()}}}function te(t,e,n){let{href:o=""}=e,{class:r=""}=e,{$$slots:s={},$$scope:i}=e;return t.$set=t=>{"href"in t&&n("href",o=t.href),"class"in t&&n("klass",r=t.class),"$$scope"in t&&n("$$scope",i=t.$$scope)},{href:o,klass:r,click_handler:function(e){X(t,e)},$$slots:s,$$scope:i}}Vt.addListener(t=>{Qt.set(t.matches)});class ee extends bt{constructor(t){super(),yt(this,t,te,Zt,c,{href:0,class:"klass"})}}function ne(t){let e,n,o,r;const s=t.$$slots.default,i=d(s,t,null);return{c(){e=M("button"),i&&i.c(),H(e,"type",t.type),H(e,"class",n=h(t.klass)+" svelte-lgq4d3"),r=D(e,"click",t.click_handler)},m(t,n){C(t,e,n),i&&i.m(e,null),o=!0},p(t,r){i&&i.p&&t.$$scope&&i.p(p(s,r,t,null),f(s,r,null)),o&&!t.type||H(e,"type",r.type),(!o||t.klass&&n!==(n=h(r.klass)+" svelte-lgq4d3"))&&H(e,"class",n)},i(t){o||(dt(i,t),o=!0)},o(t){ft(i,t),o=!1},d(t){t&&S(e),i&&i.d(t),r()}}}function oe(t,e,n){let{type:o="button"}=e,{class:r=""}=e,{$$slots:s={},$$scope:i}=e;return t.$set=t=>{"type"in t&&n("type",o=t.type),"class"in t&&n("klass",r=t.class),"$$scope"in t&&n("$$scope",i=t.$$scope)},{type:o,klass:r,click_handler:function(e){X(t,e)},$$slots:s,$$scope:i}}class re extends bt{constructor(t){super(),yt(this,t,oe,ne,c,{type:0,class:"klass"})}}function se(t){let e,n;const o=t.$$slots.default,r=d(o,t,null);return{c(){e=M("div"),r&&r.c(),H(e,"class","actions svelte-ni5ocr")},m(t,o){C(t,e,o),r&&r.m(e,null),n=!0},p(t,e){r&&r.p&&t.$$scope&&r.p(p(o,e,t,null),f(o,e,null))},i(t){n||(dt(r,t),n=!0)},o(t){ft(r,t),n=!1},d(t){t&&S(e),r&&r.d(t)}}}function ie(t,e,n){let{$$slots:o={},$$scope:r}=e;return t.$set=t=>{"$$scope"in t&&n("$$scope",r=t.$$scope)},{$$slots:o,$$scope:r}}class ce extends bt{constructor(t){super(),yt(this,t,ie,se,c,{})}}function ae(t){return function({R:t,G:e,B:n}){return Math.round((299*t+587*e+114*n)/1e3)>128}(Ut(t))?"#000":"#FFF"}function le(t){let e;const n=new ce({props:{$$slots:{default:[de]},$$scope:{ctx:t}}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};(t.$$scope||t.removeHref)&&(o.$$scope={changed:t,ctx:e}),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function ue(t){let e;return{c(){e=R("Remove")},m(t,n){C(t,e,n)},d(t){t&&S(e)}}}function de(t){let e;const n=new ee({props:{href:t.removeHref,class:"swatch-action",$$slots:{default:[ue]},$$scope:{ctx:t}}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.removeHref&&(o.href=e.removeHref),t.$$scope&&(o.$$scope={changed:t,ctx:e}),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function fe(t){let e,n,o,r,i,c,a,l,u,d,f=!t.$isMobile&&le(t);return{c(){e=M("window"),n=E(),o=M("div"),r=M("div"),i=M("span"),c=R(t.value),a=E(),f&&f.c(),H(i,"class","value svelte-1y2vvm0"),z(i,"font-size",t.valueFontSize),z(i,"color",t.contrastingColor),H(r,"class","swatch-inner svelte-1y2vvm0"),z(r,"background-color",t.value),H(o,"class","swatch svelte-1y2vvm0"),H(o,"style",l=t.outerBackgroundColor+"; color: "+t.contrastingColor+";"),L(o,"swatch-is-hovering",pe),d=[D(e,"resize",t.handleWindowResize),D(o,"click",t.click_handler)]},m(s,l){C(s,e,l),C(s,n,l),C(s,o,l),_(o,r),_(r,i),_(i,c),_(r,a),f&&f.m(r,null),t.div1_binding(o),u=!0},p(t,e){u&&!t.value||B(c,e.value),u&&!t.valueFontSize||z(i,"font-size",e.valueFontSize),u&&!t.contrastingColor||z(i,"color",e.contrastingColor),e.$isMobile?f&&(lt(),ft(f,1,1,()=>{f=null}),ut()):f?(f.p(t,e),dt(f,1)):((f=le(e)).c(),dt(f,1),f.m(r,null)),u&&!t.value||z(r,"background-color",e.value),(!u||(t.outerBackgroundColor||t.contrastingColor)&&l!==(l=e.outerBackgroundColor+"; color: "+e.contrastingColor+";"))&&H(o,"style",l),t.isHovering&&L(o,"swatch-is-hovering",pe)},i(t){u||(dt(f),u=!0)},o(t){ft(f),u=!1},d(r){r&&S(e),r&&S(n),r&&S(o),f&&f.d(),t.div1_binding(null),s(d)}}}let pe=!1;function he(t,e,n){let o,r,s;u(t,Gt,t=>n("$swatches",o=t)),u(t,Qt,t=>n("$isMobile",r=t)),u(t,Yt,t=>n("$swatchesDimensions",s=t));let{i:i}=e,{value:c}=e;let a;const l=()=>{let{offsetWidth:t,offsetHeight:e,offsetLeft:n,offsetTop:o}=a,r=a.parentElement;for(;r;)n+=r.offsetLeft,o+=r.offsetTop,r=r.parentElement;return{offsetWidth:t,offsetHeight:e,offsetLeft:n,offsetTop:o}},d=t=>"A"===t.target.tagName,f=()=>{$(Yt,s={...s,[i]:l()})};K(f),q(()=>{$(Yt,s={...s,[i]:null})});let p,h,g,m;return t.$set=t=>{"i"in t&&n("i",i=t.i),"value"in t&&n("value",c=t.value)},t.$$.update=(t={$swatches:1,i:1,value:1,isHovering:1,$isMobile:1})=>{(t.$swatches||t.i)&&n("removeHref",p=Lt({swatches:o.filter((t,e)=>i!==e)})),t.value&&n("contrastingColor",h=((t,e)=>{try{return t()}catch(t){return e}})(()=>ae(c),"#000")),(t.isHovering||t.value)&&n("outerBackgroundColor",g=`background-color: ${c}`),(t.$isMobile||t.$swatches)&&n("valueFontSize",m=r?"10vw":`calc(100vw / ${o.length} * 0.2)`)},{i:i,value:c,element:a,isAnchor:d,handleWindowResize:()=>{f()},removeHref:p,contrastingColor:h,outerBackgroundColor:g,valueFontSize:m,$isMobile:r,div1_binding:function(t){J[t?"unshift":"push"](()=>{n("element",a=t)})},click_handler:t=>{d(t)||Ft(i)}}}class $e extends bt{constructor(t){super(),yt(this,t,he,fe,c,{i:0,value:0})}}function ge(t,e,n){const o=Object.create(t);return o.swatch=e[n],o.i=n,o}function me(t){let e;const n=new $e({props:{value:t.swatch.value,i:t.i}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.$swatches&&(o.value=e.swatch.value),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function ve(t){let e,n,o=t.$swatches,r=[];for(let e=0;e<o.length;e+=1)r[e]=me(ge(t,o,e));const s=t=>ft(r[t],1,1,()=>{r[t]=null});return{c(){e=M("div");for(let t=0;t<r.length;t+=1)r[t].c();H(e,"class","swatches svelte-s7zxiq")},m(t,o){C(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){if(t.$swatches){let i;for(o=n.$swatches,i=0;i<o.length;i+=1){const s=ge(n,o,i);r[i]?(r[i].p(t,s),dt(r[i],1)):(r[i]=me(s),r[i].c(),dt(r[i],1),r[i].m(e,null))}for(lt(),i=o.length;i<r.length;i+=1)s(i);ut()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)dt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ft(r[t]);n=!1},d(t){t&&S(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function we(t,e,n){let o;return u(t,Gt,t=>n("$swatches",o=t)),{$swatches:o}}class ye extends bt{constructor(t){super(),yt(this,t,we,ve,c,{})}}function be(t){let e;return{c(){e=R("+ Add New Color")},m(t,n){C(t,e,n)},d(t){t&&S(e)}}}function ke(t){let e;const n=new ee({props:{href:t.addHref,$$slots:{default:[be]},$$scope:{ctx:t}}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.addHref&&(o.href=e.addHref),t.$$scope&&(o.$$scope={changed:t,ctx:e}),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function xe(t,e,n){let o,r;return u(t,Gt,t=>n("$swatches",o=t)),t.$$.update=(t={$swatches:1})=>{t.$swatches&&n("addHref",r=Lt({swatches:[...o,{value:"#ffffff"}]}))},{addHref:r}}class _e extends bt{constructor(t){super(),yt(this,t,xe,ke,c,{})}}function Ce(e){let n,o,r,s,i;const c=new _e({});return{c(){n=M("header"),(o=M("h1")).textContent="swatchlet.com: share colors easily.",r=E(),s=M("div"),gt(c.$$.fragment),H(o,"class","svelte-1429svp"),H(n,"class","svelte-1429svp")},m(t,e){C(t,n,e),_(n,o),_(n,r),_(n,s),mt(c,s,null),i=!0},p:t,i(t){i||(dt(c.$$.fragment,t),i=!0)},o(t){ft(c.$$.fragment,t),i=!1},d(t){t&&S(n),vt(c)}}}class Se extends bt{constructor(t){super(),yt(this,t,null,Ce,c,{})}}const Me="RGB",[Re,Ee,Oe]=Me.split(""),De={R:[0,255],G:[0,255],B:[0,255],H:[0,360],S:[0,100],L:[0,100]},He=xt(Oe),Be=xt(Me),We=xt(null),ze=xt(null),Te=_t([He,Be,We,ze],([t,e,n,o])=>({pinned:t,colorModel:e,width:n,height:o})),Le=xt(null);function je(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function Ae(t,e,n){return"#"+je(t)+je(e)+je(n)}function Ue(t){const e=t-1;return e*e*e+1}function Ie(t){return--t*t*t*t*t+1}function Pe(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ge(t,e={}){const n=xt(t),{stiffness:o=.15,damping:r=.8,precision:s=.01}=e;let i,c,a,l=t,u=t,d=1,f=0,p=!1;function h(e,o={}){u=e;const r=a={};if(null==t||o.hard||$.stiffness>=1&&$.damping>=1)return p=!0,i=m(),l=e,n.set(t=u),Promise.resolve();if(o.soft){const t=!0===o.soft?.5:+o.soft;f=1/(60*t),d=0}return c||(i=m(),p=!1,c=x(e=>{if(p)return p=!1,c=null,!1;const o={inv_mass:d=Math.min(d+f,1),opts:$,settled:!0,dt:60*(e-i)/1e3},r=function t(e,n,o,r){if("number"==typeof o||Pe(o)){const t=r-o,s=(o-n)/(e.dt||1/60),i=(s+(e.opts.stiffness*t-e.opts.damping*s)*e.inv_mass)*e.dt;return Math.abs(i)<e.opts.precision&&Math.abs(t)<e.opts.precision?r:(e.settled=!1,Pe(o)?new Date(o.getTime()+i):o+i)}if(Array.isArray(o))return o.map((s,i)=>t(e,n[i],o[i],r[i]));if("object"==typeof o){const s={};for(const i in o)s[i]=t(e,n[i],o[i],r[i]);return s}throw new Error(`Cannot spring ${typeof o} values`)}(o,l,t,u);return i=e,l=t,n.set(t=r),o.settled&&(c=null),!o.settled})),new Promise(t=>{c.promise.then(()=>{r===a&&t()})})}const $={set:h,update:(e,n)=>h(e(u,t),n),subscribe:n.subscribe,stiffness:o,damping:r,precision:s};return $}function Ne(e){let n;return{c(){H(n=M("div"),"class","cursor svelte-1i2kyi"),H(n,"style",e.transform)},m(t,e){C(t,n,e)},p(t,e){t.transform&&H(n,"style",e.transform)},i:t,o:t,d(t){t&&S(n)}}}function Fe(t,e,n){let o;const r=-1,s=-1;let i="",{left:c=r}=e,{top:a=s}=e;const l=Ge({left:c,top:a},{stiffness:.2,damping:.8});let d,f;return u(t,l,t=>n("$coords",o=t)),t.$set=t=>{"left"in t&&n("left",c=t.left),"top"in t&&n("top",a=t.top)},t.$$.update=(t={left:1,top:1,$coords:1,isUsingDefaults:1,isSettled:1})=>{(t.left||t.top)&&n("isUsingDefaults",d=c===r||a===s),(t.$coords||t.left||t.top)&&n("isSettled",f=o.left===c&&o.top===a),t.isUsingDefaults,(t.isUsingDefaults||t.isSettled||t.left||t.top||t.$coords)&&(d||(f||l.set({left:c,top:a}),n("transform",i=`transform: translateX(${o.left}px) translateY(${o.top}px);`)))},{transform:i,left:c,top:a,coords:l}}class Ke extends bt{constructor(t){super(),yt(this,t,Fe,Ne,c,{left:0,top:0})}}function qe(e){let n,o;return{c(){H(n=M("div"),"class","pinned-cursor svelte-1lmbq8l"),H(n,"style",o=e.transform+" width: "+(e.width+6)+"px;"),L(n,"initialized",e.initialized)},m(t,e){C(t,n,e)},p(t,e){(t.transform||t.width)&&o!==(o=e.transform+" width: "+(e.width+6)+"px;")&&H(n,"style",o),t.initialized&&L(n,"initialized",e.initialized)},i:t,o:t,d(t){t&&S(n)}}}function Xe(t,e,n){let o;const r=-1,s=-1;let i="",{left:c=r}=e,{top:a=s}=e,{width:l=10}=e;const d=Ge({left:c,top:a},{stiffness:.2,damping:.8});let f,p,h;return u(t,d,t=>n("$coords",o=t)),t.$set=t=>{"left"in t&&n("left",c=t.left),"top"in t&&n("top",a=t.top),"width"in t&&n("width",l=t.width)},t.$$.update=(t={left:1,top:1,$coords:1,isUsingDefaults:1,isSettled:1})=>{(t.left||t.top)&&n("isUsingDefaults",f=c===r||a===s),(t.$coords||t.left||t.top)&&n("isSettled",p=o.left===c&&o.top===a),t.isUsingDefaults&&n("initialized",h=!f),(t.isUsingDefaults||t.isSettled||t.left||t.top||t.$coords)&&(f||(p||d.set({left:c,top:a}),n("transform",i=`transform: translateX(${o.left}px) translateY(${o.top}px);`)))},{transform:i,left:c,top:a,width:l,coords:d,initialized:h}}class Ye extends bt{constructor(t){super(),yt(this,t,Xe,qe,c,{left:0,top:0,width:0})}}function Je(t){return Math.max(Math.min(t,1),0)}function Ve(t){let e;const n=new Ke({props:{left:t.cursorLeft,top:t.cursorTop}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.cursorLeft&&(o.left=e.cursorLeft),t.cursorTop&&(o.top=e.cursorTop),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function Qe(t){let e;const n=new Ye({props:{left:t.pinnedCursorLeft,top:t.pinnedCursorTop,width:t.pinnedCursorWidth}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.pinnedCursorLeft&&(o.left=e.pinnedCursorLeft),t.pinnedCursorTop&&(o.top=e.pinnedCursorTop),t.pinnedCursorWidth&&(o.width=e.pinnedCursorWidth),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function Ze(t){let e,n,o,r,i,c,a,l=t.cursorLeft>=0&&t.cursorTop>=0&&Ve(t),u=t.pinnedCursorLeft>=0&&t.pinnedCursorTop>=0&&Qe(t);return{c(){var o;e=M("div"),n=M("canvas"),r=E(),l&&l.c(),i=E(),u&&u.c(),H(n,"class","svelte-1q2x4cw"),nt(()=>t.canvas_elementresize_handler.call(n)),H(e,"class","picker-canvas svelte-1q2x4cw"),a=[D(window,"resize",t.handleWindowResize),D(n,"mousedown",t.handleMouseDown),D(n,"mouseup",t.handleMouseUp),D(n,"mousemove",t.handleMouseMove),D(n,"touchstart",t.handleMouseDown),D(n,"touchend",t.handleMouseUp),D(n,"touchcancel",t.handleMouseUp),D(n,"touchmove",(o=t.handleMouseMove,function(t){return t.preventDefault(),o.call(this,t)}))]},m(s,a){C(s,e,a),_(e,n),o=T(n,t.canvas_elementresize_handler.bind(n)),t.canvas_binding(n),_(e,r),l&&l.m(e,null),_(e,i),u&&u.m(e,null),c=!0},p(t,n){n.cursorLeft>=0&&n.cursorTop>=0?l?(l.p(t,n),dt(l,1)):((l=Ve(n)).c(),dt(l,1),l.m(e,i)):l&&(lt(),ft(l,1,1,()=>{l=null}),ut()),n.pinnedCursorLeft>=0&&n.pinnedCursorTop>=0?u?(u.p(t,n),dt(u,1)):((u=Qe(n)).c(),dt(u,1),u.m(e,null)):u&&(lt(),ft(u,1,1,()=>{u=null}),ut())},i(t){c||(dt(l),dt(u),c=!0)},o(t){ft(l),ft(u),c=!1},d(n){n&&S(e),o.cancel(),t.canvas_binding(null),l&&l.d(),u&&u.d(),s(a)}}}const tn=.65;function en(t,e,n){let o,r,s,i,c,a,l,d,f,p,h;u(t,Be,t=>n("$colorModel",o=t)),u(t,He,t=>n("$pinned",r=t)),u(t,We,t=>n("$width",s=t)),u(t,ze,t=>n("$height",i=t)),u(t,Xt,t=>n("$pickingSwatchRgb",c=t)),u(t,Gt,t=>n("$swatches",a=t)),u(t,Nt,t=>n("$picking",l=t)),u(t,Le,t=>n("$tracking",d=t));let g=-1,m=-1,v=-1,w=-1,y=10;const b={R:0,G:0,B:0},k=()=>{const[t,e]=o.replace(r,"");return[t,e]},x=(t,e)=>{const n=new ArrayBuffer(e*t*4);return[n,new Uint8ClampedArray(n),new Uint32Array(n)]},_=t=>{if(!(p&&h&&t.width&&t.height&&t.pickingSwatchRgb))return;const e=t.pickingSwatchRgb;p.mounted.width=s,p.mounted.height=i,(()=>{if(o===Me){const t=De.R[1];p.primary.width=t,p.primary.height=t}})(),(()=>{if(o===Me){const t=De[r][1];p.pinned.width=1,p.pinned.height=t}})();!function(){var o=0,r=0,s=0;const[i,c]=(()=>{const[t,e]=k(),[,n]=De[t],[,o]=De[e];return[n,o]})(),a=h.primary.createImageData(i,c),[l,u]=k(),d=De[l][1],f=De[u][1],$=t.width/d,v=t.height/f,[w,y,_]=x(i,c),C=e[t.pinned];for(b[t.pinned]=C;r<c;){let t=r;for(b[u]=t;o<i;){let t=o;b[l]=t,_[s]=255<<24|b.B<<16|b.G<<8|b.R,o+=1,s+=1}o=0,r+=1}a.data.set(y),h.primary.putImageData(a,0,0),h.mounted.drawImage(p.primary,0,0,Math.floor(d*$*tn),Math.floor(f*v)),n("cursorLeft",g=Math.floor(e[l]*$*tn)),n("cursorTop",m=Math.floor(e[u]*v))}(),function(){var o=0;const[i,c]=[1,De[r][1]],a=h.pinned.createImageData(i,c),l=t.height/c,[u,d,f]=x(i,c),$=Me.replace(t.pinned,"").split("");for(b[$[0]]=e[$[0]],b[$[1]]=e[$[1]];o<c;)b[t.pinned]=c-o,f[o]=255<<24|b.B<<16|b.G<<8|b.R,o+=1;a.data.set(d),h.pinned.putImageData(a,0,0),h.mounted.drawImage(p.pinned,Math.floor(s*tn),0,Math.ceil(s*(1-tn)),Math.floor(c*l)),n("pinnedCursorLeft",v=Math.floor(s*tn)),n("pinnedCursorWidth",y=Math.ceil(s*(1-tn))),n("pinnedCursorTop",w=(De[r][1]-e[r])*l)}()};let C;K(()=>{p={mounted:f,primary:document.createElement("canvas"),pinned:document.createElement("canvas")},h={mounted:p.mounted.getContext("2d"),primary:p.primary.getContext("2d"),pinned:p.pinned.getContext("2d")};const t=_t([Te,Xt],([t,e])=>({...t,pickingSwatchRgb:e}));C=t.subscribe(_)}),q(()=>{C(),p=null,h=null});const S=(t,{isPrimaryCanvas:e})=>{const n={...c};if(e){const[e,o]=k();let r=De[e][1],c=De[o][1],a=s*tn,l=i,u=Je(t.layerX/a),d=Math.round(u*r);n[e]=d;let f=Je(t.layerY/l),p=Math.round(f*c);n[o]=p}else{let e=i,o=De[r][1],s=Je(t.layerY/e),c=o-Math.round(s*o);n[r]=c}$(Gt,a=a.map((t,e)=>e===l?{...t,value:Ae(n.R,n.G,n.B)}:t))};return{mounted:f,cursorLeft:g,cursorTop:m,pinnedCursorLeft:v,pinnedCursorTop:w,pinnedCursorWidth:y,handleMouseMove:t=>{d&&S(t,d)},handleMouseDown:t=>{const e=(t=>t.layerX<s*tn)(t);$(Le,d={isPrimaryCanvas:e})},handleMouseUp:t=>{if(d){const e={...d};$(Le,d=null),S(t,e)}},handleWindowResize:()=>{f&&($(We,s=f.clientWidth),$(ze,i=f.clientHeight))},$width:s,$height:i,canvas_elementresize_handler:function(){s=this.clientWidth,We.set(s),i=this.clientHeight,ze.set(i)},canvas_binding:function(t){J[t?"unshift":"push"](()=>{n("mounted",f=t)})}}}class nn extends bt{constructor(t){super(),yt(this,t,en,Ze,c,{})}}function on(t){let e,n,o,r,i,c,a,l,u,d,f,p,h,$,g,m,v=t.$pickingSwatchRgb.R+"",w=t.$pickingSwatchRgb.G+"",y=t.$pickingSwatchRgb.B+"";return{c(){e=M("div"),n=M("label"),o=M("input"),r=R("\n    R: "),i=R(v),c=E(),a=M("label"),l=M("input"),u=R("\n    G: "),d=R(w),f=E(),p=M("label"),h=M("input"),$=R("\n    B: "),g=R(y),H(o,"type","radio"),o.__value="R",o.value=o.__value,H(o,"class","svelte-1xfk6xs"),t.$$binding_groups[0].push(o),H(n,"class","svelte-1xfk6xs"),H(l,"type","radio"),l.__value="G",l.value=l.__value,H(l,"class","svelte-1xfk6xs"),t.$$binding_groups[0].push(l),H(a,"class","svelte-1xfk6xs"),H(h,"type","radio"),h.__value="B",h.value=h.__value,H(h,"class","svelte-1xfk6xs"),t.$$binding_groups[0].push(h),H(p,"class","svelte-1xfk6xs"),H(e,"class","svelte-1xfk6xs"),m=[D(o,"change",t.input0_change_handler),D(l,"change",t.input1_change_handler),D(h,"change",t.input2_change_handler)]},m(s,m){C(s,e,m),_(e,n),_(n,o),o.checked=o.__value===t.$pinned,_(n,r),_(n,i),_(e,c),_(e,a),_(a,l),l.checked=l.__value===t.$pinned,_(a,u),_(a,d),_(e,f),_(e,p),_(p,h),h.checked=h.__value===t.$pinned,_(p,$),_(p,g)},p(t,e){t.$pinned&&(o.checked=o.__value===e.$pinned),t.$pickingSwatchRgb&&v!==(v=e.$pickingSwatchRgb.R+"")&&B(i,v),t.$pinned&&(l.checked=l.__value===e.$pinned),t.$pickingSwatchRgb&&w!==(w=e.$pickingSwatchRgb.G+"")&&B(d,w),t.$pinned&&(h.checked=h.__value===e.$pinned),t.$pickingSwatchRgb&&y!==(y=e.$pickingSwatchRgb.B+"")&&B(g,y)},d(n){n&&S(e),t.$$binding_groups[0].splice(t.$$binding_groups[0].indexOf(o),1),t.$$binding_groups[0].splice(t.$$binding_groups[0].indexOf(l),1),t.$$binding_groups[0].splice(t.$$binding_groups[0].indexOf(h),1),s(m)}}}function rn(e){let n,o=e.$pickingSwatchRgb&&on(e);return{c(){o&&o.c(),n=O()},m(t,e){o&&o.m(t,e),C(t,n,e)},p(t,e){e.$pickingSwatchRgb?o?o.p(t,e):((o=on(e)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&S(n)}}}function sn(t,e,n){let o,r;u(t,Xt,t=>n("$pickingSwatchRgb",o=t)),u(t,He,t=>n("$pinned",r=t));return{$pickingSwatchRgb:o,$pinned:r,input0_change_handler:function(){r=this.__value,He.set(r)},input1_change_handler:function(){r=this.__value,He.set(r)},input2_change_handler:function(){r=this.__value,He.set(r)},$$binding_groups:[[]]}}class cn extends bt{constructor(t){super(),yt(this,t,sn,rn,c,{})}}function an(t,{delay:e=0,duration:n=400,easing:o=Ue,x:r=0,y:s=0,opacity:i=0}){const c=getComputedStyle(t),a=+c.opacity,l="none"===c.transform?"":c.transform,u=a*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${a-u*e}`}}function ln(t){let e,n,o,r,s,i,c,a,l,u;const h=t.$$slots.default,$=d(h,t,null);return{c(){e=M("div"),n=M("div"),s=E(),i=M("div"),$&&$.c(),H(n,"style",t.overlayStyle),H(n,"class","overlay svelte-7gpej3"),H(i,"class","modal svelte-7gpej3"),H(e,"class","overlay-overflow svelte-7gpej3"),u=D(window,"keyup",t.handleKeyUp)},m(t,o){C(t,e,o),_(e,n),_(e,s),_(e,i),$&&$.m(i,null),l=!0},p(t,e){l&&!t.overlayStyle||H(n,"style",e.overlayStyle),$&&$.p&&t.$$scope&&$.p(p(h,e,t,null),f(h,e,null))},i(e){l||(nt(()=>{r&&r.end(1),o||(o=ht(n,un,{...t.transitionSwatchScale,duration:t.duration1})),o.start()}),dt($,e),nt(()=>{a&&a.end(1),c||(c=ht(i,an,{delay:t.duration1-t.effectOverlap,duration:t.duration2,x:t.targetWidth/10,y:0,opacity:0,easing:Ie})),c.start()}),l=!0)},o(e){o&&o.invalidate(),r=$t(n,dn,{...t.transitionSwatchScale,delay:t.duration2-t.effectOverlap,duration:t.duration1}),ft($,e),c&&c.invalidate(),a=$t(i,an,{delay:0,duration:t.duration2,x:t.targetWidth/10,y:0,opacity:0,easing:Ie}),l=!1},d(t){t&&S(e),t&&r&&r.end(),$&&$.d(t),t&&a&&a.end(),u()}}}function un(t,{duration:e,scale:n,position:o,reverse:r}){console.log("swatchScale called",{duration:e,scale:n,position:o,reverse:r});return{duration:e,css:t=>{console.log("t",t),t=Ue(t);const e={x:n.start.x+Math.abs(n.start.x-n.end.x)*t,y:n.start.y+Math.abs(n.start.y-n.end.y)*t};return`${function(t,e){return`\n      transform: scale(${t.x}, ${t.y}) translate(${e.x}px, ${e.y}px);\n      `.trim()}(e,{x:Math.abs((o.end.x-o.start.x)*(1-t))/e.x,y:Math.abs((o.end.y-o.start.y)*(1-t))/e.y})};`}}}function dn(t,e){return console.log("swatch scale out called"),un(0,{...e,reverse:!0})}function fn(t,e,n){let{targetHeight:o=0}=e,{targetWidth:r=0}=e,{background:s=""}=e,{dimensions:i}=e,{duration1:c=2e3}=e,{duration2:a=1500}=e,{effectOverlap:l=0}=e,{handleEscapeKey:u}=e;let d,f,{$$slots:p={},$$scope:h}=e;return t.$set=t=>{"targetHeight"in t&&n("targetHeight",o=t.targetHeight),"targetWidth"in t&&n("targetWidth",r=t.targetWidth),"background"in t&&n("background",s=t.background),"dimensions"in t&&n("dimensions",i=t.dimensions),"duration1"in t&&n("duration1",c=t.duration1),"duration2"in t&&n("duration2",a=t.duration2),"effectOverlap"in t&&n("effectOverlap",l=t.effectOverlap),"handleEscapeKey"in t&&n("handleEscapeKey",u=t.handleEscapeKey),"$$scope"in t&&n("$$scope",h=t.$$scope)},t.$$.update=(t={dimensions:1,targetWidth:1,targetHeight:1,background:1})=>{(t.dimensions||t.targetWidth||t.targetHeight)&&n("transitionSwatchScale",d=i?{position:{start:{x:i.offsetLeft,y:i.offsetTop},end:{x:0,y:0}},scale:{start:{x:i.offsetWidth/r,y:i.offsetHeight/o},end:{x:1,y:1}}}:null),(t.targetWidth||t.targetHeight||t.background)&&n("overlayStyle",f=[`width:  ${r}px`,`height: ${o}px`,`background: ${s}`].join("; "))},{targetHeight:o,targetWidth:r,background:s,dimensions:i,duration1:c,duration2:a,effectOverlap:l,handleEscapeKey:u,handleKeyUp:t=>{"Escape"===t.code&&u()},transitionSwatchScale:d,overlayStyle:f,$$slots:p,$$scope:h}}class pn extends bt{constructor(t){super(),yt(this,t,fn,ln,c,{targetHeight:0,targetWidth:0,background:0,dimensions:0,duration1:0,duration2:0,effectOverlap:0,handleEscapeKey:0})}}function hn(t){let e;const n=new pn({props:{targetWidth:t.width,targetHeight:t.height,dimensions:t.previousOriginElementDimensions,background:t.background,duration1:t.duration1,duration2:t.duration2,effectOverlap:t.effectOverlap,handleEscapeKey:t.handleEscapeKey,$$slots:{default:[vn]},$$scope:{ctx:t}}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.width&&(o.targetWidth=e.width),t.height&&(o.targetHeight=e.height),t.previousOriginElementDimensions&&(o.dimensions=e.previousOriginElementDimensions),t.background&&(o.background=e.background),(t.$$scope||t.backgroundColor||t.previousBackgroundColor||t.contrastingColor||t.$tracking||t.removeHref||t.value)&&(o.$$scope={changed:t,ctx:e}),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function $n(t){let e;return{c(){e=R("Remove")},m(t,n){C(t,e,n)},d(t){t&&S(e)}}}function gn(t){let e;return{c(){e=R("Close")},m(t,n){C(t,e,n)},d(t){t&&S(e)}}}function mn(t){let e,n;const o=new ee({props:{href:t.removeHref,class:"swatch-action",$$slots:{default:[$n]},$$scope:{ctx:t}}});o.$on("click",t.handleRemoveButton);const r=new re({props:{$$slots:{default:[gn]},$$scope:{ctx:t}}});return r.$on("click",t.handleCloseButton),{c(){gt(o.$$.fragment),e=E(),gt(r.$$.fragment)},m(t,s){mt(o,t,s),C(t,e,s),mt(r,t,s),n=!0},p(t,e){const n={};t.removeHref&&(n.href=e.removeHref),t.$$scope&&(n.$$scope={changed:t,ctx:e}),o.$set(n);const s={};t.$$scope&&(s.$$scope={changed:t,ctx:e}),r.$set(s)},i(t){n||(dt(o.$$.fragment,t),dt(r.$$.fragment,t),n=!0)},o(t){ft(o.$$.fragment,t),ft(r.$$.fragment,t),n=!1},d(t){vt(o,t),t&&S(e),vt(r,t)}}}function vn(t){let e,n,o,r,s,i,c;const a=new ce({props:{$$slots:{default:[mn]},$$scope:{ctx:t}}}),l=new cn({}),u=new nn({});return{c(){e=M("div"),n=M("input"),o=E(),gt(a.$$.fragment),r=E(),gt(l.$$.fragment),s=E(),gt(u.$$.fragment),H(n,"type","text"),z(n,"color",t.contrastingColor),z(n,"border-color",t.contrastingColor),H(n,"class","svelte-16cjsbm"),H(e,"class","picker svelte-16cjsbm"),z(e,"background",t.backgroundColor||t.previousBackgroundColor),z(e,"color",t.contrastingColor),L(e,"tracking",t.$tracking),c=D(n,"input",t.input_input_handler)},m(c,d){C(c,e,d),_(e,n),W(n,t.value),_(e,o),mt(a,e,null),_(e,r),mt(l,e,null),_(e,s),mt(u,e,null),i=!0},p(t,o){i&&!t.contrastingColor||z(n,"color",o.contrastingColor),i&&!t.contrastingColor||z(n,"border-color",o.contrastingColor),t.value&&n.value!==o.value&&W(n,o.value);const r={};(t.$$scope||t.removeHref)&&(r.$$scope={changed:t,ctx:o}),a.$set(r),(!i||t.backgroundColor||t.previousBackgroundColor)&&z(e,"background",o.backgroundColor||o.previousBackgroundColor),i&&!t.contrastingColor||z(e,"color",o.contrastingColor),t.$tracking&&L(e,"tracking",o.$tracking)},i(t){i||(dt(a.$$.fragment,t),dt(l.$$.fragment,t),dt(u.$$.fragment,t),i=!0)},o(t){ft(a.$$.fragment,t),ft(l.$$.fragment,t),ft(u.$$.fragment,t),i=!1},d(t){t&&S(e),vt(a),vt(l),vt(u),c()}}}function wn(t){let e,n,o,r,s,i=`<style>html { background: ${t.backgroundColor||t.previousBackgroundColor} }</style>`+"",c=t.isOpen&&hn(t);return{c(){n=O(),o=E(),c&&c.c(),r=O(),e=new j(i,null)},m(t,i){e.m(document.head),_(document.head,n),C(t,o,i),c&&c.m(t,i),C(t,r,i),s=!0},p(t,n){s&&!t.backgroundColor&&!t.previousBackgroundColor||i===(i=`<style>html { background: ${n.backgroundColor||n.previousBackgroundColor} }</style>`+"")||e.p(i),n.isOpen?c?(c.p(t,n),dt(c,1)):((c=hn(n)).c(),dt(c,1),c.m(r.parentNode,r)):c&&(lt(),ft(c,1,1,()=>{c=null}),ut())},i(t){s||(dt(c),s=!0)},o(t){ft(c),s=!1},d(t){S(n),t&&e.d(),t&&S(o),c&&c.d(t),t&&S(r)}}}const yn=1;function bn(t,e,n){let o,r,s,i,c;u(t,Gt,t=>n("$swatches",o=t)),u(t,Nt,t=>n("$picking",r=t)),u(t,Yt,t=>n("$swatchesDimensions",s=t)),u(t,qt,t=>n("$pickingSwatch",i=t)),u(t,Le,t=>n("$tracking",c=t));let{width:a=0}=e,{height:l=0}=e,d=i.value,f=!0;const p=200*yn,h=150*yn,g=50*yn;let m=qt.subscribe(t=>{t&&t.value!==d&&n("value",d=t.value)});q(()=>{m()});const v=()=>(n("isOpen",f=!1),function(t){return new Promise(e=>setTimeout(e,t))}(p+h-g+1));let w,y,b,k,x,_,C;return t.$set=t=>{"width"in t&&n("width",a=t.width),"height"in t&&n("height",l=t.height)},t.$$.update=(t={value:1,$pickingSwatch:1,$picking:1,$swatches:1,previousBackgroundColor:1,backgroundColor:1,$swatchesDimensions:1,originElementDimensions:1,previousOriginElementDimensions:1})=>{(t.value||t.$pickingSwatch||t.$picking)&&function(t){return jt.test(t)||At.test(t)}(d)&&i&&$(Gt,o[r].value=d,o),(t.$swatches||t.$picking)&&n("backgroundColor",w=o[r]&&o[r].value),(t.$swatches||t.$picking||t.previousBackgroundColor)&&n("previousBackgroundColor",y=o[r]?o[r].value:y),t.previousBackgroundColor&&n("background",b=y),(t.backgroundColor||t.previousBackgroundColor)&&n("contrastingColor",k=ae(w||y)),(t.$swatchesDimensions||t.$picking)&&n("originElementDimensions",x=s[r]),(t.originElementDimensions||t.previousOriginElementDimensions)&&n("previousOriginElementDimensions",_=x||_),(t.$swatches||t.$picking)&&n("removeHref",C=Lt({swatches:o.filter((t,e)=>r!==e)}))},{width:a,height:l,value:d,isOpen:f,duration1:p,duration2:h,effectOverlap:g,handleEscapeKey:()=>{v().then(Kt)},handleRemoveButton:t=>{t.preventDefault();const e=t.target.href;v().then(()=>{Kt(),location.href=e})},handleCloseButton:t=>{t.preventDefault(),v().then(Kt)},backgroundColor:w,previousBackgroundColor:y,background:b,contrastingColor:k,previousOriginElementDimensions:_,removeHref:C,$tracking:c,input_input_handler:function(){d=this.value,n("value",d)}}}class kn extends bt{constructor(t){super(),yt(this,t,bn,wn,c,{width:0,height:0})}}function xn(t){let e;const n=new kn({props:{width:t.width,height:t.height}});return{c(){gt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};t.width&&(o.width=e.width),t.height&&(o.height=e.height),n.$set(o)},i(t){e||(dt(n.$$.fragment,t),e=!0)},o(t){ft(n.$$.fragment,t),e=!1},d(t){vt(n,t)}}}function _n(t){let e,n,o,r,s,i,c,a;const l=new Se({}),u=new ye({});let d=t.hasPicker&&xn(t);return{c(){e=M("div"),gt(l.$$.fragment),n=E(),gt(u.$$.fragment),o=E(),d&&d.c(),r=E(),s=M("span"),i=R(t.debuggingOutput),H(s,"id","alive"),H(s,"class","svelte-k3qegc"),H(e,"class","app svelte-k3qegc"),nt(()=>t.div_elementresize_handler.call(e))},m(f,p){C(f,e,p),mt(l,e,null),_(e,n),mt(u,e,null),_(e,o),d&&d.m(e,null),_(e,r),_(e,s),_(s,i),c=T(e,t.div_elementresize_handler.bind(e)),a=!0},p(t,n){n.hasPicker?d?(d.p(t,n),dt(d,1)):((d=xn(n)).c(),dt(d,1),d.m(e,r)):d&&(lt(),ft(d,1,1,()=>{d=null}),ut()),a&&!t.debuggingOutput||B(i,n.debuggingOutput)},i(t){a||(dt(l.$$.fragment,t),dt(u.$$.fragment,t),dt(d),a=!0)},o(t){ft(l.$$.fragment,t),ft(u.$$.fragment,t),ft(d),a=!1},d(t){t&&S(e),vt(l),vt(u),d&&d.d(),c.cancel()}}}function Cn(t,e,n){let o,r;u(t,Nt,t=>n("$picking",o=t)),u(t,Jt,t=>n("$swatchesDimensionsIsReady",r=t));let s,i,c=0,a=0;return t.$$.update=(t={$picking:1,$swatchesDimensionsIsReady:1,hasPicker:1})=>{(t.$picking||t.$swatchesDimensionsIsReady)&&n("hasPicker",s=null!==o&&r),(t.$swatchesDimensionsIsReady||t.$picking||t.hasPicker)&&n("debuggingOutput",i=JSON.stringify({swatchesDimensionsIsReady:r,$picking:o,hasPicker:s}))},{width:c,height:a,hasPicker:s,debuggingOutput:i,div_elementresize_handler:function(){c=this.offsetWidth,a=this.offsetHeight,n("width",c),n("height",a)}}}var Sn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mn="Expected a function",Rn=NaN,En="[object Symbol]",On=/^\s+|\s+$/g,Dn=/^[-+]0x[0-9a-f]+$/i,Hn=/^0b[01]+$/i,Bn=/^0o[0-7]+$/i,Wn=parseInt,zn="object"==typeof Sn&&Sn&&Sn.Object===Object&&Sn,Tn="object"==typeof self&&self&&self.Object===Object&&self,Ln=zn||Tn||Function("return this")(),jn=Object.prototype.toString,An=Math.max,Un=Math.min,In=function(){return Ln.Date.now()};function Pn(t,e,n){var o,r,s,i,c,a,l=0,u=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError(Mn);function p(e){var n=o,s=r;return o=r=void 0,l=e,i=t.apply(s,n)}function h(t){var n=t-a;return void 0===a||n>=e||n<0||d&&t-l>=s}function $(){var t=In();if(h(t))return g(t);c=setTimeout($,function(t){var n=e-(t-a);return d?Un(n,s-(t-l)):n}(t))}function g(t){return c=void 0,f&&o?p(t):(o=r=void 0,i)}function m(){var t=In(),n=h(t);if(o=arguments,r=this,a=t,n){if(void 0===c)return function(t){return l=t,c=setTimeout($,e),u?p(t):i}(a);if(d)return c=setTimeout($,e),p(a)}return void 0===c&&(c=setTimeout($,e)),i}return e=Nn(e)||0,Gn(n)&&(u=!!n.leading,s=(d="maxWait"in n)?An(Nn(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=a=r=c=void 0},m.flush=function(){return void 0===c?i:g(In())},m}function Gn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Nn(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&jn.call(t)==En}(t))return Rn;if(Gn(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Gn(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(On,"");var n=Hn.test(t);return n||Bn.test(t)?Wn(t.slice(2),n?2:8):Dn.test(t)?Rn:+t}var Fn=function(t,e,n){var o=!0,r=!0;if("function"!=typeof t)throw new TypeError(Mn);return Gn(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),Pn(t,e,{leading:o,maxWait:e,trailing:r})};const Kn=Dt((function(t){const e=Wt(t);if(e)return Gt.set(e.swatches),Nt.set(e.picking),!0}));Kn(location.href)||(location.hash=Tt({swatches:l(Gt),picking:l(Nt)}));const qn=_t([Gt,Nt],([t,e])=>Lt({swatches:t,picking:e})),Xn=Fn(t=>{t!==location.hash&&(location.hash=t)},1e3,{leading:!0,trailing:!0});qn.subscribe(Xn);return window.addEventListener("hashchange",t=>{Kn(t.newURL)},!1),new class extends bt{constructor(t){super(),yt(this,t,Cn,_n,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
